; PlatformIO Test Configuration for SemaphoreGuard
; SemaphoreGuard requires FreeRTOS - must run on ESP32

[env:esp32-basic]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -Wall
    -Wextra
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*

[env:esp32-debug]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -D SEMAPHORE_GUARD_DEBUG
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
build_flags =
    -D UNIT_TEST
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*
